<!DOCTYPE html>
<html lang="en" ng-app="app">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>OneDrive</title>
        <meta http-equiv="x-ua-compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="lib/bootstarp/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body ng-controller="ngOneDriveCtrl">
    <div class="container">
        <div>
            <h1  ng-if="userName!=null"  class="pull-right" >{{userName}}
                <a href="javascript:signOut();" class="btn btn-primary btn-lg" role="button">Sign out</a>
            </h1>
        </div>
    </div>
    <div id="id" class="container" >
        <div class="panel panel-primary container" ng-if="filesAndFolders!=null" >
            <!--ng-if="filesAndFolders!=null"-->
            <h1>{{directory}} <a ng-click="toPreFolder()" class="btn btn-default pull-right" role="button" ng-if="directory!='Root'" >&larr; Back</a> </h1>
            <div  ng-repeat="obj in filesAndFolders " >
                <div class="panel panel-primary" ng-if="obj.type =='folder'">
                    <div ng-click="displayFolder(obj.name)" class="panel-heading panel-title" role="button"  >{{obj.name}}</div>
                </div>
                <div class="panel panel-primary panel-body" ng-if="obj.type!='folder'" >
                    {{obj.name}}
                    <a ng-if="obj.state=='notDownloaded'" ng-click="downloadFile(obj)">download</a>
                    <a ng-if="obj.state=='progress'" >{{obj.progress}}%</a>
                    <a ng-if="obj.state=='downloaded'"  ng-click="openFile(obj)">open |</a>
                    <a ng-if="obj.state=='downloaded'"  ng-click="reload(obj)">| reload</a>
                    {{obj.state}}
                </div>
            </div>
        </div>
    </div>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/angular.js" ></script>
        <script src="lib/bootstarp/js/bootstrap.min.js"></script>
        <script src="js/oneDrive.js"></script>
        <script src="js/oneDriveDb.js"></script>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/ngApp.js"></script>
        <script type="text/javascript" src="js/ngOneDriveCtrl.js"></script>
    </body>
</html>

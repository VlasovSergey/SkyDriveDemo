<!DOCTYPE html>
<html lang="en" ng-app="app">
    <head>
        <meta charset="utf-8" />

        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, removeItem the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>OneDrive</title>
        <meta http-equiv="x-ua-compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="lib/bootstrap.css" rel="stylesheet">
        <script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
        <style>
            .clip {
                white-space: nowrap; /* Запрещаем перенос строк */
                overflow: hidden; /* Обрезаем все, что не помещается в область */
                text-overflow: ellipsis; /* Добавляем многоточие */
            }
        </style>
    </head>
    <body ng-controller="ngOneDriveCtrl">
    <div class="container">
        <div>
            <h1 ng-if="userName!=null"  class="pull-right" >{{userName}}
                <a ng-click="signOut()" class="btn btn-primary btn-lg" role="button">Sign out</a>
            </h1>
        </div>
    </div>
    <div id="id" class="container" >
        <div class="panel container" ng-if="filesAndFolders!=null" >
            <!--ng-if="filesAndFolders!=null"-->
            <!--<a ng-click="toPreFolder()" class="btn btn-default pull-right" role="button" ng-if="directory!='Root'" >&larr; Back</a>-->
            <h1>{{directory}}  </h1>
            <div  ng-repeat="obj in filesAndFolders " >
                <div class="panel panel-primary" ng-if="obj.type =='folder'">
                    <div ng-click="displayFolder(obj.name)" class="panel-heading panel-title" role="button"  >{{obj.name}}<span  class="pull-right">{{obj.count}}</span></div>
                </div>
                <div class="panel panel-body" ng-if="obj.type!='folder'" >
                    <div>
                        <div class="pull-right">
                            <button type="button" class="btn btn-primary" ng-if="obj.state=='notDownloaded'" ng-click="downloadFile(obj)">download</button>
                            <button type="button" class="btn btn-primary" ng-if="obj.state=='downloaded'"  ng-click="openFile(obj)">open</button>
                            <button type="button" class="btn btn-primary" ng-if="obj.state=='downloaded'"  ng-click="downloadFile(obj)">reload</button>
                        </div>
                        <h2 class="clip">{{obj.name}}</h2>
                        <div ng-if="obj.state=='progress'" class="progress progress-striped active">
                            <div class="progress-bar"  role="progressbar" aria-valuenow="100"  aria-valuemin="0" aria-valuemax="100" ng-style="{width: obj.progress +'%'}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><script>

    </script>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/angular.js" ></script>
        <script src="lib/bootstarp/js/bootstrap.min.js"></script>
        <script src="js/oneDrive.js"></script>
        <script src="js/oneDriveDb.js"></script>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/ngApp.js"></script>
        <script type="text/javascript" src="js/ngOneDriveCtrl.js"></script>
    </body>
</html>
